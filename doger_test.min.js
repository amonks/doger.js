var expect=chai.expect;describe("doger.js",function(){describe("Doge Generator Functions",function(){describe("Convert a list of keywords into an array of doge-style strings",function(){var e=["social physics","Mr Pentland","Alex Pentland","United States","The Economist"],t=Doger.keywords_to_doge_text(e);it("should return a populated array",function(){expect(t).to.be.a("array"),expect(t).to.have.length.above(0)}),it("should return one string per keyword, plus one",function(){expect(t.length).to.equal(e.length+1)}),it("should return strings that start with doge starting words",function(){for(var e=["such","much","very","many","so","how"],o=t.length-2;o>=0;o--)expect(e).to.include.members([t[o].split(" ")[0]])}),it("should return a doge ending word as the last string",function(){var e=["wow","amaze","excite"];expect(e).to.include.members([t[t.length-1]])}),it("should return text in all lowercase",function(){for(var e=t.length-1;e>=0;e--)expect(t[e]).to.equal(t[e].toLowerCase())})}),describe("Overlay doge keywords onto image",function(){var e={url:"http://static.ddmcdn.com/en-us/apl/breedselector/images/breed-selector/dogs/breeds/shiba-inu_01_lg.jpg",width:622,height:352},t=["much test","very units","much behavioral","amaze"],o=Doger.make_doge_image(e,t);it("should return an object",function(){expect(o).to.be.a("object")}),it("should contain a div classed .doger",function(){expect($("<div>").append(o.clone()).html()).to.have.string('<div class="doger"'),expect($("<div>").append(o.clone()).html()).to.have.string("</div>")}),it("should contain an image within the div",function(){expect(o.html()).to.have.string("<img")}),it("should contain the input text",function(){for(var e=t.length-1;e>=0;e--)expect(o.html()).to.have.string(t[e])})}),describe("Select a Shiba Inu",function(){var e=Doger.doge_image();it("should return an object",function(){expect(e).to.be.a("object")}),it("should include a url",function(){expect(e.url).to.be.a("string")}),it("should include a height",function(){expect(e.height).to.be.a("number")}),it("should include a width",function(){expect(e.width).to.be.a("number")})})}),describe("Keyword Extractors",function(){describe("Get the keywords from a webpage",function(){describe("http://monks.co",function(){var e="http://monks.co",t=["Belgian Man Records","Belgian Man Records","Concord Carlisle Regional High School","Oblique Strategies","Facebook","Facebook","responsive design","Andrew Monks","music video","realtime video"],o=Doger.keywords_from_url(e);it("should return a populated array",function(){expect(o).to.be.a("array"),expect(o).to.have.length.above(0)}),it("should return the correct keywords",function(){for(var e=t.length-1;e>=0;e--)expect(o[e]).to.equal(t[e])})}),describe("Popular Science article",function(){var e="http://www.popsci.com/scitech/article/2009-09/squirt-stem-cell-gel-heals-brain-injuries",t=Doger.keywords_from_url(e);it("should return a populated array",function(){expect(t).to.be.a("array"),expect(t).to.have.length.above(0)})}),describe("The Economist article",function(){var e="http://www.economist.com/news/books-and-arts/21595883-how-re-engineer-world-measure-man-0",t=["Alex Pentland","The Economist","The Economist","Mr Pentland","social physics","Social Physics"],o=Doger.keywords_from_url(e);it("should return a populated array",function(){expect(o).to.be.a("array"),expect(o).to.have.length.above(0)}),it("should return the correct keywords",function(){for(var e=t.length-1;e>=0;e--)expect(o[e]).to.equal(t[e])})})}),describe("Get the keywords from text",function(){describe("Reptillian blurb",function(){var e="According to British writer David Icke, 5- to 12-foot (1.5â€“3.7 m) tall, blood-drinking, shape-shifting reptilian humanoids from the Alpha Draconis star system, now hiding in underground bases, are the force behind a worldwide conspiracy against humanity.[7] He contends that most of the world's leaders are related to these reptilians, including George W. Bush of the United States, and Queen Elizabeth II of the United Kingdom.[8] Icke's conspiracy theories now have supporters in 47 countries and he has given lectures to crowds of up to 6,000.[9][10] American writer Vicki Santillano included it in her list of the 10 most popular conspiracy theories, describing it as the 'wackiest theory' she had encountered.[11] A poll of Americans in 2013 by Public Policy Polling showed that 4% of registered voters believed in David Icke's ideas.[12]",t=["Vicki Santillano","reptilian humanoids","British writer David Icke","underground bases","Alpha Draconis star system","David Ickes","worldwide conspiracy","George W Bush","conspiracy theories","Queen Elizabeth II of the United Kingdom Ickes"],o=Doger.keywords_from_text(e);it("should return a populated array",function(){expect(o).to.be.a("array"),expect(o).to.have.length.above(0)}),it("should return the correct keywords",function(){for(var e=t.length-1;e>=0;e--)expect(o[e]).to.equal(t[e])})})})}),describe("Utilities",function(){describe("Correctly respond to the current query string",function(){window.location.href.slice(window.location.href.indexOf("?")+1);output=Doger.get_query_string(),-1==window.location.href.indexOf("?")?it("should return null if there is no query string",function(){expect(output).to.be.null}):it("should return a string if there is a query string",function(){expect(output).to.be.a("string")})}),describe("Check whether something is a url",function(){var e=["hello.com","breadcam/five.com","guacamole/index.html"],t=["http://google.com/","http://jquery-howto.blogspot.com/2009/09/get-url-parameters-values-with-jquery.html?bageldonut=slash&otherstuff","http://monks.co","http://arduino.cc/doc"];it("should return false for nonurl strings",function(){for(var t=e.length-1;t>=0;t--)expect(Doger.check_for_url(e[t])).to.be.false}),it("should return true for urls",function(){for(var e=t.length-1;e>=0;e--)expect(Doger.check_for_url(t[e])).to.be.true})}),describe("Make a GET request",function(){it("should successfully GET a YQL request",function(){var e="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20contentanalysis.analyze%20where%20url%3D%22http%3A//monks.co%22&diagnostics=true",t=Doger.httpGet(e);expect(t).to.be.a("string")}),it("should successfully get a normal webpage request",function(){var e="http://monks.co",t=Doger.httpGet(e);expect(t).to.be.a("string")}),it("should return null for a non-url",function(){var e="bogusString",t=Doger.httpGet(e);expect(t).to.be.null})}),describe("Choose a random thing from an array",function(){it("should return a thing from the array",function(){var e=[6,7,8,9,10],t=Doger.random_from_array(e);expect(t).to.be.a("number"),expect(t).to.be.within(6,10)})}),describe("Generate a random color",function(){var e=Doger.random_color();it("should return a 7 character string starting with '#'",function(){expect(e).to.be.a("string"),expect(e).to.have.length(7),expect(e).to.match(/^\#/)}),it("should return a valid hex color",function(){var t=e.substring(1),o=parseInt(t,16);expect(o).to.be.a("number"),expect(o).to.be.at.most(16777215)})})})});